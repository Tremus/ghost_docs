# GHOST

Version 1.0

## Presets

### Preset format

Ghost presets are saved in using the JSON file extension `.json`. This is a popular human readable text format that is relatively simple for computer programs to read and write. Compared to other binary formats, json files tend to be a bit larger, however they are much easier to debug.

### Preset location

By default, Ghost searches for presets in the following location:

#### Windows

`C:\Users\{username}\Documents\exacoustics\GHOST`

#### macOS

`/Users/{username}/Music/exacoustics/GHOST`

# Navbar

### Hamburger menu:

-   Init
-   Load Preset
-   Save preset
-   Check for updates

### Preset name

Opens the preset browser

Preset up/down buttons

### Level meter

Output in decibels for the left & right channel

Triangle controls the gain. This gain control can also be automated

### Oscilloscope

Shows audio output in mono. Intelligently detects the pitch of the acitve oscillator (A-B) in order to show what the waveform looks like.

## Preset Browser

### Spinning wheel

This is a loading wheel which is displayed while your preset directory is being scanned and metadata is being read. Each time you open the preset browser all your presets are rescanned in order to keep your data up to date. This is a heavily optimised routine and tends to run very quickly, even with a really large folder of presets.

**_Note_**: On Windows, this process may take a bit longer than on macOS, especially if you have lots of presets. The reason for this slow down is that virus protection software such as Windows Defender intercepts the file reading to scan the preset file for malicious viruses. Presumably, the preset will not be infected with viruses, and the preset is suspected to be temporarily _whitelisted_ by Windows Defender for 20 minutes or thereabouts. While on this whitelist, rescans of all these presets will be lightning fast, with speeds similar to macOS.

If you use Windows Defender and this slow behaviour proves to be too slow and frustrating to you, _it is possible to speed things up_ by adding the `.json` file extension to the Windows Defender whitelist, but for potential security and legal reasons I will not go on record recommending it to you. You can look up how to do these things yourself if you're curious and like to live dangerously.

### Search

This performs a case insensitive search of the filenames within the currently selected folder and its subfolders.

### Folders

Select a folder to filter presets belonging to the selected folder or one of its subfolders. Additionally, if the folder contains subfolders, you can click the triangle button to the left of the folder name to expand the list and view its subfolders.

To disable filterting by folders, select "All files" at the top of the list.

### Tags

Filter the presets by its tag within the currently selected folder and its subfolders. Filtered items will contain _at least every selected tag_.

You can quickly clear all selected tags by clicking the "Clear tags" button placed right above the tags.

### Preset table

The table columns **Name**, **Artist** and **Tags** correspond to metadata within your saved preset. You can right click on these fields to edit them.

The **heart** icon on the left can be used for favouriting presets. A list of your favourites is saved locally, meaning the list will be unique to your device and cannot be transfered to another device.

If you select the heart within the table header, you will filter by favourited presets.

# Oscillator

### Osc buttons

There are 6 oscillators in GHOST. You can change the currently displayed oscillator by clicking on the buttons labelled A - F. All knobs and settings you see in this area (show picture) belong to each oscillator.

A single left click will display the wavetable belonging to that oscillator. All of the pitch controls, filter controls, distortion controls also belong to each oscillator, so their changes will be reflected when you switch.

### Save

Save the wavetable used by the active oscillator to a file. Supported formats are `.flac` and `.wav`.

### Wavetables

Ghosts oscillator engine use wavetables. A wavetable is small digital audio sample that when played back fast enough, can sound very similar to analogue synthesisers. A great advantage of using digital wavetables is that a much wider variety of sounds can be produced, and they can be processed in ways that would be almost impossible using hardware circuitry!

Ghosts wavetables use shapes consisting of exactly 2048 points, with a maximum of 256 shapes.

New wavetables can be easily imported by dragging audio files from your file window or DAW and dropping them over this area. Supported audio codecs include FLAC, WAV and AIFF. Wavetables generated by other software and downloaded from the internet will most likely be compatible.

By right cliucking on the wave shape, you can open up a menu with some useful functions:
- Init: Resets the wavetable to the default consisting of a Sine, Triangle, Saw, Square and Pulse wave.
- Set preset as wavetable: Sets a new wavetable on the active oscillator. This is created by a launching a background task with a copy of your preset and recording the audio.


### Pitch

-   RAT - Ratio:This is a multiplier on the frequency of the oscillator. Eg. if you are playing the note A4 (440hz) and the ratio is set to 2, this will multiply the pitch to 880Hz.
-   SEM - Semitone: Stepped pitch offset in semitones
-   FIN - Fine: Stepped pitch offset in cents
-   TUN - Tune: Smooth pitch offset in fractional semitones. Can be used to offset pitch at a higher resolution than cents eg. 0.0001 semitones (0.01 ct)

### Unison

-   VOC - Voices: Number of unison voices
-   DET - Detune: Controls the maximum offset in cents of the unison voices
-   SPR - Spread: Controls the bias of the panning towards the center or to the sides
-   WID - Width: Controls the maximum left/right panning

### Bottom controls

-   Phase: Offset applied the phase of the oscillator and all of its unison voices
-   Wave: Wavetable position.
-   Bend -/+, Asym -/+, Sync, Window
-   Harmonic filters:

    Ghost can manipulate the harmonics of wavetables directly. A useful way to think about harmonics is as range of sine waves with different amplitudes and phases. Tools like frequency spectrum analysers are great for displaying the harmonics produced by an oscillator, especially a saw oscillator. We will describe lower frequency harmonics as being 'to the left', and higher harmonics as being 'to the right'.

    - None
    - LP: Low pass filter than smoothly removes the wavetables harmonics starting from the right.
    - HP: High pass filter than smoothly removes the wavetables harmonics starting from the left.
    - Stretch: Moves the wavetables harmonics N places to the right and places each harmonic N spaces from one another, where N is a value controllable value from 0-19
    - Shift: Moves the wavetables harmonics N places to the right as a group, where N is a value controllable value from 0-30.
-   Pan: Pans all unison voices by a given amount
-   Morph: When active, creates a smooth step between wavetable shapes. This may desirable for long and slowly evolving wavetables. When turned off, it creates a hard step from one wave shapes to another. This may be desirable for wavetables containing a variety of shapes different from one another.
-   Retrig: When active, causes the starting phase of each unison voice to begin at the value set by the Phase parameter. When inactive, the starting phase of unison voices will be randomised.
-   Dir Out: The output of this oscillator will bypass processing in the FX rack.

### Filter

Click on the circle or the title "Filter" next to it to activate/deactivate the filter.

This filter is polyphonic, meaning that each key press uses its own filter. For a non polyphonic filter, see the FX section.

- Types - Use the arrow buttons to cycle through different modes, or click on the label to open a dropdown menu listing all types.  Ghost contains many exciting filters for manipulating your sound. They are secret sauce and will not be explained! Try them yourself and have fun with them.
- KTRK - Keytracking that moves the filter cutoff relative to the key that is pressed.
- Freq - Frequency: Position of the filter in Hz
- Res - Resonance: Increases/decreases the peaks of filters. 
- Morph - Additional control for changing the shape of filters. Only used by certain filter types
- Mix - Wet/Dry control

### Distortion

Click on the circle or the title "Distortion" next to it to activate/deactivate the distortion

This distortion is polyphonic, meaning that each key press uses its own distortion. For a non polyphonic distortion, see the FX section.

- Types - Use the arrow buttons to cycle through different modes, or click on the label to open a dropdown menu listing all types. Ghost contains many exciting distortions for manipulating your sound. They are secret sauce and will not be explained! Try them yourself and have fun with them.
- Drive - Increase/Decrease the amount of distortion
- Mix - Wet/Dry

## FM Matrix

Each of the letters in corresponds to an oscillator. You can left click them to switch the active oscillator. A double left click or a single right click will toggle them on/off.

Each letter is aligned diagonally to create a table of rows and columns, with the first row and column being F and the last column and second last row being A. The final row at the bottom is reserved for audio output.

The intersection between columns and rows contains a paramter controlling the FM amount for that oscillator.

For your conventience, the matrix contains a few different symbols that indicate different kinds of routing:

- Triangle pointing downwards: FM feedback. These are located above each letter.
- Triangle pointing right: Oscillator output volume.
- 5 point cross/start: FM amount from one oscillator into a seperate oscillator.

# Modulators

Most parameter values can be changed in real time by mapping them to modulators. Modulators offset the current position of any parameter by a range of up to -100% to 100%.

## E1-E6 Envelope

This is an extension on the classic ADSR controls found on many synths.

ENV1 is automatically linked to oscillators A-F.

- Delay - Upon retriggering, holds a value of 0% for a given duration
- Attack - Ramp from 0-100% for a given duration
- Hold - Holds a value of 100% for a given duration
- Decay - Ramp from 100% to the value set by the Sustain parameter for a given duration
- Sustain - Holds a given value until for as long as a key or sustain pedal is held down.
- Release - Ramp from the value set by the Sustain parameter to 0% for a given duration

- Magnifying glass - Zoom +/-

### Grid

These parameters also can be controlled by clicking and dragging the points displayed on the grid.

Intersections between points on the grid can skew the ramp up/down. Double clicking 

#### Menu

Open the menu by right clicking on empty space in the grid:

- "Copy ENV to" - Copy parameter settings and parameter modulations to another ENV.

### L1-L6 - LFO

- Save button - Save the LFO shape to a file.
- Preset name - Opens a dropdown menu to browse different shape presets.
- Retrig - When active, retriggers will reset the phase to 0%
- Loop - When active, the phase of the LFO will start again from 0% after it hits 100%
- Rate types

    Type of rate the "Rate" parameter should use
    - Hz - LFO speed in Hz
    - Beat Sync - Syncs the rate based on the BPM set by your DAW. If using the standalone version, the BPM defaults to 120.
    - Keytracking - Maps the LFO rate to the rate of the last key being pressed eg A4 440Hz. The "Rate" parameter controls a semitone offset which can be used to increase or decrease the rate
- Amount - Range from 0-100% that can be used to quickly and dynamically reduce the amount of modulation sent to other parameters. 

### Grid

#### X / Y

Increase / decrease the number of horizontal / vertical segments in the grid

#### Points

Left click and drag to add points. Hold the Alt(Windown) or Option (macOS) key while dragging to snap the point to the grid.

Double left click on a empty space will add points. Double left click on points to remove them.

The intersection between two opints can be clicked dragged up and down to ramp up/down. Double clicking on the intersections between points will reset the ramp to a striaght line.

#### Menu

Open the menu by right clicking on empty space in the grid:

- Reset points - Resets points to a the default triangle shape.
- Random shape - Randomly places points based on the X/Y grid. Increasing the number of X or Y grid points will increase the complexity of the generated shapes and vice versa.
- Random sequence - Randly places ramp and step shapes on the grid based on the X/Y grid. Increasing the number of X or Y grid points will increase the complexity of the generated shapes and vice versa.
- Set shape on OSC (X) - Renders the LFO shape to a wavetable shape and replaces the wavetable used by the current oscillator
- Add shape to OSC (X) - Renders the LFO shape to a wavetable shape and appends it to the current oscillators wavetable.
- "Copy LFO to" - Copy parameter settings and parameter modulations to another LFO.

## F1-F6 - Frequency LFO

- Save button - Save the FREQ shape to a file.
- Preset name - Opens a dropdown menu to browse different shape presets.
- Retrig - When active, retriggers will reset the phase to 0%
- Loop - When active, the phase of the FREQ will start again from 0% after it hits 100%
- Rate types

    Type of rate the "Rate" parameter should use
    - ms - FREQ speed in ms
    - Beat Sync - Syncs the rate based on the BPM set by your DAW. If using the standalone version, the BPM defaults to 120.
    - Keytracking - Maps the FREQ rate to the rate of the last key being pressed eg A4 440Hz. The "Rate" parameter controls a semitone offset which can be used to increase or decrease the rate.
- Transpose - Offset in semitones applied to the points in the grid.

#### Menu

Open the menu by right clicking on empty space in the grid:

- Reset points - Resets points to a the default ramp down shape.
- "Copy FREQ to" - Copy parameter settings and parameter modulations to another FREQ.

## R1-R3 - Random LFO

- Retrig - When active, retriggers will generate new random values
- S & H - Sample and hold - When active, creates hard steps from one random value to another. When inactive, creates a smooth ramp from one random value to another.
- Stereo - When active, random values will be independantly generated for the left & right channel
- Rate types

    Type of rate the "Rate" parameter should use
    - Hz - LFO speed in Hz
    - Beat Sync - Syncs the rate based on the BPM set by your DAW. If using the standalone version, the BPM defaults to 120.
    - Keytracking - Maps the LFO rate to the rate of the last key being pressed eg A4 440Hz. The "Rate" parameter controls a semitone offset which can be used to increase or decrease the rate

- Random - Controls the chance for new random values to be created at the interval set by the Rate parameter. With Random set to 0%, no new values will be produced and the RAND mod will freeze its state. With Random set to 100%, new values are always produced 
- Steps - Controls range of possible random values

## M1-M4 - Macros

Macros can be used to control multiple parameters using a rotary knob.

To modulate a parameter using a macro, simply left click and drag on the label "M1" or crosshair icon and drop it on the parameter of choice.

You can add your own custom label to macros by using a single left click on the label or crosshair icon.

## KEY - Keytracking

Keytracking will offset a paramters value relative to the MIDI key that is being pressed. MIDI keys have corresponding note numbers that range from 0-127, with Middle C usually being number 60 (~47%). These values can be remapped using the X/Y grid

## VEL - Velocity

Velocity will offset a paramters value relative to the velocity in which MIDI notes have been played. MIDI velocity ranges from 0-127. These values can be remapped using the X/Y grid

## AT - Aftertouch

Aftertouch will offset a paramters value relative to the MIDI aftertouch messages sent to the synth. These values can be remapped using the X/Y grid

> !Important
  There are two common types of aftertouch messages: "Channel" and "Polyphonic". Both kinds are read by the AT mod. In the rare case that your DAW and/or connected MIDI device is sending both types of aftertouch messages at once, you may get conflicting and undesirable results.

# Keyboard
- Bend - Controls the maximum range -/+ in semitones of the pitch wheel
- Pitch Wheel - Corresponds to the pitch wheel found on some MIDI keyboards. Can be dragged to transpose the pitch of all keys up and down.
- PW - Pitch Wheel modulator. Offsets a parameters position based on the position of the Pitch Wheel.
- Mod wheel - Corresponds to the mod wheel found on some MIDI keyboards. Can be mapped to control other parameters.
- MW - Mod Wheel modulator. Offsets a parameters position based on the position of the Mod Wheel.
- Keyboard - Displays keys that are currently held down. Click and drag the keys to play notes. The buttons to the left and right transpose the keyboard by an octave.
- Polyphony - Limits the available voices to the range 1-16. Each key you press will consume an available voice. If there are no available voices, the voice will be stolen. If multiple keys are held down forming a chord, the voice stealing algorithm attempts to intelligently steal voices from the middle of the chord, making it easier to hear things like bassline progression and top melodies.
- Legato - When active, voices that have been stolen will blend more smoothly into one another. This affects things like:
    - Portamento: Blend duration from the pitch of the previous key to the new one. Blending follows a ramp which is controlled by the Curve parameter to the right.
    - ENV: If a voice is stolen while legato is on and the key is not in a release state, the ENV will not retrigger. If the ENV is in a release state, the ENV will retrigger, causing it to start again from its Delay phase, but beginning from the last Y position (0-100%) it was in at the time of the retrigger. If Legato is inactive, the ENV will always retrigger, performing a hard reset, moving the ENV playhead back to the beginning with Delay producing Y values of 0%.

# Modulation Routing Table

Here you can add and remove modulations on parameters throughout the entire synth from one interface.

The drag handles on the left mean you can drag to reorder the rows.

## Columns

- Row number: Double click on a row number to enable/disable the modulation of the selected parameter.
- Modulation: Left click the table cell to open a drop down menu will list all available modulation sources. Choose an item from the menu to add/change/remove a modulation.
- Parameter: Left click the table cell to open a drop down menu will list all available parameters. Choose an item from the menu to add/change/remove a modulation. This parameter can be automated too by simply dragging and dropping modulations onto them, or by chosing their name from the menu.

  Ghost has a lot of parameters, so for sake of keeping the list simpler, some parameters that are not in use by the current patch are hidden from the list eg. if the FX rack is empty, no parameters from effects will be in the list until new items are added.
- Amount: Increases the range of modulation applied to the parameter
- Skew: Pulls or pushes the modulation curve to the start or end of the range.
- Polarity: Toggle between one-way or two way directions for your modulation. With one way, the range of modulation begins from the current position of parameter and ends to the left or right of parameter. With two-way, the range begins on one side of the paramter position and ends on the opposing side.

